import WorldBaseMapClass from './world_base.js';
import MapSpotClass from '../code/map_spot.js';
import MapCastleClass from '../code/map_castle.js';

export default class WorldMainMapClass extends WorldBaseMapClass
{
    constructor(game)
    {
        super(game);
    }
    
    finalSetup()
    {
        let n;
        let sprites,mapSpotList,mapCastleList;
        
            // the player
            
        this.getSpritePlayer().setPosition((5*this.gridPixelSize),(12*this.gridPixelSize));
        
            // map spots
        
        sprites=this.getSpritesOfType(MapSpotClass);
        mapSpotList=this.getGame().getData('map_spot_list');
        
        for (n=0;n!==sprites.length;n++) {
            sprites[n].setPosition(((mapSpotList[n].gridX*this.gridPixelSize)+16),((mapSpotList[n].gridY*this.gridPixelSize)+16));
        }
        
            // map castles
        
        sprites=this.getSpritesOfType(MapCastleClass);
        mapCastleList=this.getGame().getData('map_castle_list');
        
        for (n=0;n!==sprites.length;n++) {
            sprites[n].setPosition((mapCastleList[n].gridX*this.gridPixelSize),(mapCastleList[n].gridY*this.gridPixelSize));
        }
    }
    
    getMapLayout()
    {
        return(
            [
                '.........................................................................................................................................................................',
                '........................FDDG.............................................................................................................................................',
                '...................FDDDDAAAC.............................................................................................................................................',
                '................FDDAAAAAAAAAG............................................................................................................................................',
                '................BAAAAAAAAAAAC............................................................................................................................................',
                '................BAAAAA...................................................................................................................................................',
                '................BAAAAA...................................................................................................................................................',
                '................BAAAAA...................................................................................................................................................',
                '.....FDDDDDDDDG.BAAAAA...................................................................................................................................................',
                '.....BAAMAAAAAC.BAAAAA...................................................................................................................................................',
                '.....BAAMMAAAACJBAAAAA...................................................................................................................................................',
                '.....BAAMMMAAAC.HEEEEA...................................................................................................................................................',
                '.....BAAAMMAAAAG.....B...................................................................................................................................................',
                '.....HAAAAMAAAAADDDG.HEEE................................................................................................................................................',
                '......HAAAAAAAAEEEEI.....................................................................................................................................................',
                '.......HEEEEEEI..........................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '*####%'
            ]
        );
    }


}
