import WorldBaseMapClass from './world_base.js';
import MapSpotClass from '../code/map_spot.js';
import MapCastleClass from '../code/map_castle.js';
import MapBlockClass from '../code/map_block.js';

export default class WorldMainMapClass extends WorldBaseMapClass
{
    constructor(game)
    {
        super(game);
    }
    
    finalSetup()
    {
        let n;
        let sprites,mapSpotList,mapCastleList,mapBlockList;
        
            // the player
            
        this.getSpritePlayer().setPosition(((5*this.gridPixelSize)+14),((12*this.gridPixelSize)-2));
        
            // map spots
        
        sprites=this.getSpritesOfType(MapSpotClass);
        mapSpotList=this.getGame().getData('map_spot_list');
        
        for (n=0;n!==sprites.length;n++) {
            sprites[n].setPosition(((mapSpotList[n].gridX*this.gridPixelSize)+16),((mapSpotList[n].gridY*this.gridPixelSize)-16));
        }
        
            // map castles
        
        sprites=this.getSpritesOfType(MapCastleClass);
        mapCastleList=this.getGame().getData('map_castle_list');
        
        for (n=0;n!==sprites.length;n++) {
            sprites[n].setPosition((mapCastleList[n].gridX*this.gridPixelSize),(mapCastleList[n].gridY*this.gridPixelSize));
        }
        
            // map blocks
        
        sprites=this.getSpritesOfType(MapBlockClass);
        mapBlockList=this.getGame().getData('map_block_list');
        
        for (n=0;n!==sprites.length;n++) {
            sprites[n].setPosition((mapBlockList[n].gridX*this.gridPixelSize),(mapBlockList[n].gridY*this.gridPixelSize));
        }
    }
    
    getMapLayout()
    {
        return(
            [
                '.........................................................................................................................................................................',
                '........................FDDG.............................................................................................................................................',
                '...................FDDDDAAAC.............................................................................................................................................',
                '................FDDAAAAAAAAAG............................................................................................................................................',
                '................BAAAAAAAAAAAC............................................................................................................................................',
                '................BAAAAA...................................................................................................................................................',
                '................BAAAAA...................................................................................................................................................',
                '................BAAAAA...................................................................................................................................................',
                '.....FDDDDDDDDG.HAAAAA...................................................................................................................................................',
                '.....BAAMAAAAAC..BAAAA...................................................................................................................................................',
                '.....BAAMMAAAAAJJAAAAA...................................................................................................................................................',
                '.....BAAMMMAAAC..HEEEA...................................................................................................................................................',
                '.....BAAAMMAAAAG.....B...................................................................................................................................................',
                '.....HAAAAMAAAAADDDG.HEEE................................................................................................................................................',
                '......BAAAAAAAAAAAAC.....................................................................................................................................................',
                '......HAAAAAAAAEEEEI.....................................................................................................................................................',
                '.......HEEEEEEI..........................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '*####%&&'
            ]
        );
    }


}
