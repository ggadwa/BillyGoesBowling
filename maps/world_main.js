import WorldBaseMapClass from './world_base.js';
import MapSpotClass from '../code/map_spot.js';

export default class WorldMainMapClass extends WorldBaseMapClass
{
    constructor(game)
    {
        super(game);
    }
    
    finalSetup()
    {
        let n;
        let sprites,mapSpotList;
        
            // the player
            
        this.getSpritePlayer().setPosition((8*this.gridPixelSize),(11*this.gridPixelSize));
        
            // map spots
        
        sprites=this.getSpritesOfType(MapSpotClass);
        
        mapSpotList=this.getGame().getData('map_spot_list');
        console.log(mapSpotList);
        
        console.log(sprites.length+'='+mapSpotList.length);
        
        for (n=0;n!==sprites.length;n++) {
            sprites[n].setPosition((mapSpotList[n].gridX*this.gridPixelSize),(mapSpotList[n].gridY*this.gridPixelSize));
        }
    }
    
    getMapLayout()
    {
        return(
            [
                '.........................................................................................................................................................................',
                '........................FDDG.............................................................................................................................................',
                '...................FDDDDAAAC.............................................................................................................................................',
                '................FDDAAAAAAAAAG............................................................................................................................................',
                '................BAAAAAAAAAAAC............................................................................................................................................',
                '................BAAAAA...................................................................................................................................................',
                '................BAAAAA...................................................................................................................................................',
                '................BAAAAA...................................................................................................................................................',
                '.....FDDDDDDDDG.BAAAAA...................................................................................................................................................',
                '.....BAAAAAAAAC.BAAAAA...................................................................................................................................................',
                '.....BAAAAAAAAC.BAAAAA...................................................................................................................................................',
                '.....BAAAAAAAAC.HEEEEA...................................................................................................................................................',
                '.....BAAAAAAAAC......B...................................................................................................................................................',
                '.....HAAAAAAAAADDDDG.HEEE................................................................................................................................................',
                '......HAAAAAAAAEEEEI.....................................................................................................................................................',
                '.......HEEEEEEI..........................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '.........................................................................................................................................................................',
                '*###'
            ]
        );
    }


}
